<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>Master Weightlifter Hub</title>
<style>
:root {
  --whoop-green: #2ecc71;
  --whoop-yellow: #f1c40f;
  --whoop-red: #e74c3c;
  --bg: #121212;
  --card: #1c1c1e;
  --accent: #0A84FF;
  --text: #ffffff;
  --text-dim: #8e8e93;
}
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
  background-color: var(--bg);
  color: var(--text);
  margin: 0;
  padding: 0;
  -webkit-user-select: none;
}
.header {
  padding: 25px 20px 10px 20px;
  background: #000;
  position: sticky;
  top: 0;
  z-index: 100;
  border-bottom: 1px solid #333;
}
.header h1 { font-size: 1.2rem; margin: 0; letter-spacing: 1px; color: var(--whoop-yellow); }
.header p { font-size: 0.8rem; color: var(--text-dim); margin: 5px 0 0 0; }
.day-nav {
  display: flex;
  overflow-x: auto;
  padding: 15px 10px;
  gap: 10px;
  scrollbar-width: none;
}
.day-nav::-webkit-scrollbar { display: none; }
.day-btn {
  background: var(--card);
  border: 1px solid #333;
  color: var(--text);
  padding: 10px 18px;
  border-radius: 20px;
  white-space: nowrap;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
}
.day-btn.active {
  background: var(--accent);
  border-color: var(--accent);
}
.container { padding: 0 15px 100px 15px; }
.section-title {
  font-size: 0.8rem;
  color: var(--text-dim);
  text-transform: uppercase;
  margin: 20px 0 10px 5px;
  letter-spacing: 1px;
}
.daily-totals {
  background: linear-gradient(145deg, #2c2c2e, #1c1c1e);
  border-radius: 15px;
  padding: 15px;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-bottom: 20px;
  border: 1px solid #333;
}
.total-item { text-align: center; }
.total-val { display: block; font-size: 1.1rem; font-weight: bold; color: var(--accent); }
.total-label { font-size: 0.7rem; color: var(--text-dim); }
.meal-card {
  background: var(--card);
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 12px;
  border: 1px solid #333;
  transition: all 0.2s;
}
.meal-card:active { transform: scale(0.98); background: #2c2c2e; }
.meal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.meal-time { font-size: 0.75rem; color: var(--accent); font-weight: bold; }
.meal-name { font-size: 1rem; font-weight: 600; }
.meal-macros { font-size: 0.8rem; color: var(--text-dim); }
.recipe-drawer {
  display: none;
  padding-top: 15px;
  border-top: 1px solid #333;
  margin-top: 10px;
  font-size: 0.9rem;
  line-height: 1.5;
}
.recipe-drawer.open { display: block; }
.ingredients { margin-bottom: 10px; color: var(--text); }
.instructions { color: var(--text-dim); font-size: 0.85rem; }
.shopping-list {
  display: none;
}
.shopping-list.active {
  display: block;
}
.shop-item {
  display: flex;
  align-items: center;
  padding: 12px;
  border-bottom: 1px solid #333;
}
.shop-item input { margin-right: 15px; width: 18px; height: 18px; }
.bottom-nav {
  position: fixed;
  bottom: 0;
  width: 100%;
  background: #000;
  display: flex;
  justify-content: space-around;
  padding: 15px 0 30px 0;
  border-top: 1px solid #333;
}
.nav-item { text-align: center; color: var(--text-dim); font-size: 0.7rem; text-decoration: none; cursor:pointer; }
.nav-item.active { color: var(--accent); }
.nav-icon { display: block; font-size: 1.4rem; margin-bottom: 4px; }
</style>
</head>
<body>
<div class="header">
  <h1>OLY PERFORMANCE HUB</h1>
  <p id="sub-status">ðŸŸ¢ Loading Athlete Profile...</p>
</div>

<div id="main-view">
  <div class="day-nav" id="dayNav">
    <button class="day-btn" onclick="setDay('Mon', this)">Mon</button>
    <button class="day-btn" onclick="setDay('Tue', this)">Tue</button>
    <button class="day-btn" onclick="setDay('Wed', this)">Wed</button>
    <button class="day-btn" onclick="setDay('Thu', this)">Thu</button>
    <button class="day-btn" onclick="setDay('Fri', this)">Fri</button>
    <button class="day-btn" onclick="setDay('Sat', this)">Sat</button>
    <button class="day-btn" onclick="setDay('Sun', this)">Sun</button>
  </div>

  <div class="container">
    <div class="section-title">Daily Energy Targets</div>
    <div class="daily-totals" id="totalsDisplay"></div>

    <div class="section-title">Meal Schedule</div>
    <div id="mealContainer"></div>
  </div>
</div>

<div id="shopping-view" class="shopping-list">
  <div class="container">
    <div class="section-title">Weekly Grocery Inventory</div>
    <div style="background:var(--card); border-radius:15px; padding:10px;">
      <div class="shop-item"><input type="checkbox" data-shop="chicken"> 900g Chicken Breast</div>
      <div class="shop-item"><input type="checkbox" data-shop="beef"> 900g Ground Beef (90%)</div>
      <div class="shop-item"><input type="checkbox" data-shop="tuna"> 6 Cans Solid Tuna (Olive Oil)</div>
      <div class="shop-item"><input type="checkbox" data-shop="eggs"> 2 Dozen Large Eggs</div>
      <div class="shop-item"><input type="checkbox" data-shop="whey"> 1.5kg Whey Isolate Powder</div>
      <div class="shop-item"><input type="checkbox" data-shop="yogurt"> 1.5kg Plain Greek Yogurt</div>
      <div class="shop-item"><input type="checkbox" data-shop="potatoes"> 4kg Russet/Red Potatoes</div>
      <div class="shop-item"><input type="checkbox" data-shop="spinach"> 8 Bags Fresh Spinach</div>
      <div class="shop-item"><input type="checkbox" data-shop="tomatoes"> 4 Pints Cherry Tomatoes</div>
      <div class="shop-item"><input type="checkbox" data-shop="bananas"> 15 Large Bananas</div>
      <div class="shop-item"><input type="checkbox" data-shop="pasta"> 2 Boxes Whole Wheat Pasta</div>
      <div class="shop-item"><input type="checkbox" data-shop="milk"> 6 Liters Almond Milk (Unsw)</div>
      <div class="shop-item"><input type="checkbox" data-shop="oats"> 1kg Rolled Oats</div>
      <div class="shop-item"><input type="checkbox" data-shop="cheese"> 250g Block Hard Cheese</div>
      <div class="shop-item"><input type="checkbox" data-shop="nuts"> Mixed Nuts (Almonds/Pecans)</div>
    </div>
  </div>
</div>

<div class="bottom-nav">
  <div class="nav-item active" id="planNav" onclick="toggleView('plan')">
    <span class="nav-icon">ðŸ“…</span>PLAN
  </div>
  <div class="nav-item" id="shopNav" onclick="toggleView('shop')">
    <span class="nav-icon">ðŸ›’</span>GROCERIES
  </div>
</div>

<script>
/* ---- Data: weekly plans updated to your 7 day framework ---- */
const plans = {
  Mon: {
    status: "ðŸŸ¡ High Intensity Training @ 3 PM",
    totals: { p: "202g", c: "225g", f: "88g" },
    meals: [
      { time: "08:30", name: "Breakfast â€” Recovery Frittata", p: "35g", c: "35g", f: "28g",
        ing: "4 Eggs, 30g Cheese, 150g Potato, 100g Spinach.",
        inst: "SautÃ© potatoes; wilt spinach. Whisk eggs and pour over; cook on medium low until set." },
      { time: "12:30", name: "Pre Tr â€” Chicken and Savory Oats", p: "55g", c: "55g", f: "10g",
        ing: "170g Chicken Breast, 80g dry Rolled Oats (savory), Cherry Tomatoes.",
        inst: "Cook oats; grill chicken. Serve together with tomatoes." },
      { time: "17:00", name: "Post Tr â€” Rebuild Smoothie", p: "42g", c: "45g", f: "6g",
        ing: "45g Whey, 300ml Almond Milk, 1 Large Banana, 50g Fruit.",
        inst: "Blend until smooth for rapid glycogen and protein delivery." },
      { time: "19:30", name: "Dinner â€” Beef and Pasta Skillet", p: "45g", c: "75g", f: "28g",
        ing: "170g Ground Beef, 100g dry Pasta, 150g Tomato Sauce.",
        inst: "Brown beef; add sauce and simmer. Toss with cooked pasta." },
      { time: "22:00", name: "Sleep â€” Greek Yogurt Bolus", p: "25g", c: "15g", f: "16g",
        ing: "250g Plain Greek Yogurt, 20g Pecans.",
        inst: "Mix and eat to supply overnight amino acids." }
    ]
  },

  Tue: {
    status: "ðŸŸ¡ High Intensity Training @ 3 PM",
    totals: { p: "202g", c: "225g", f: "88g" },
    meals: [
      { time: "08:30", name: "Breakfast â€” Recovery Frittata", p: "35g", c: "35g", f: "28g",
        ing: "4 Eggs, 30g Cheese, 150g Potato, 100g Spinach.",
        inst: "SautÃ© potatoes; wilt spinach. Whisk eggs and pour over; cook on medium low until set." },
      { time: "12:30", name: "Pre Tr â€” Chicken and Savory Oats", p: "55g", c: "55g", f: "10g",
        ing: "170g Chicken Breast, 80g dry Rolled Oats (savory), Cherry Tomatoes.",
        inst: "Cook oats; grill chicken. Serve together with tomatoes." },
      { time: "17:00", name: "Post Tr â€” Rebuild Smoothie", p: "42g", c: "45g", f: "6g",
        ing: "45g Whey, 300ml Almond Milk, 1 Large Banana, 50g Fruit.",
        inst: "Blend until smooth for rapid glycogen and protein delivery." },
      { time: "19:30", name: "Dinner â€” Beef and Pasta Skillet", p: "45g", c: "75g", f: "28g",
        ing: "170g Ground Beef, 100g dry Pasta, 150g Tomato Sauce.",
        inst: "Brown beef; add sauce and simmer. Toss with cooked pasta." },
      { time: "22:00", name: "Sleep â€” Greek Yogurt Bolus", p: "25g", c: "15g", f: "16g",
        ing: "250g Plain Greek Yogurt, 20g Pecans.",
        inst: "Mix and eat to supply overnight amino acids." }
    ]
  },

  Wed: {
    status: "ðŸŸ¢ Restricted Performance @ 3 PM",
    totals: { p: "195g", c: "245g", f: "72g" },
    meals: [
      { time: "08:30", name: "Breakfast â€” Protein Oats (Whey)", p: "48g", c: "60g", f: "18g",
        ing: "80g dry Oats, 300ml Almond Milk, 45g Whey, 15g Peanut Butter.",
        inst: "Cook oats in almond milk; stir or whisk in whey after slightly cooled." },
      { time: "12:30", name: "Pre Tr â€” Tuna and Potatoes", p: "40g", c: "65g", f: "15g",
        ing: "1 Can Tuna (140g), 300g Potatoes, 100g Spinach.",
        inst: "Roast or boil potatoes; combine with tuna and spinach." },
      { time: "17:00", name: "Post Tr â€” Recovery Smoothie", p: "42g", c: "35g", f: "6g",
        ing: "45g Whey, 300ml Almond Milk, 1 Large Banana.",
        inst: "Blend until smooth." },
      { time: "19:30", name: "Dinner â€” Savory Tuna Marinara", p: "55g", c: "80g", f: "18g",
        ing: "1 Can Tuna, 100g dry Pasta, 30g Whey (made into paste), 150g Tomato Sauce.",
        inst: "Make whey paste with cold water; heat sauce low; stir whey paste and tuna then toss with pasta." },
      { time: "22:00", name: "Sleep â€” Almond Milk and Nuts", p: "10g", c: "5g", f: "15g",
        ing: "300ml Almond Milk, 30g Pistachios.",
        inst: "Sip slowly as a light pre sleep snack." }
    ]
  },

  Thu: {
    status: "ðŸŸ¡ Rest and Recomposition",
    totals: { p: "204g", c: "70g", f: "80g" },
    meals: [
      { time: "09:00", name: "Breakfast â€” Toning Frittata", p: "32g", c: "5g", f: "32g",
        ing: "4 Eggs, 100g Spinach, 50g Cheese, 50g Tomatoes.",
        inst: "Whisk eggs and cook with spinach; add cheese; skip starchy sides." },
      { time: "13:00", name: "Lunch â€” Lean Chicken and Spinach", p: "65g", c: "30g", f: "8g",
        ing: "200g Chicken Breast, 150g Potato, 200g Spinach.",
        inst: "Roast chicken and potato; serve over spinach." },
      { time: "16:30", name: "Snack â€” Greek Yogurt Bolus", p: "30g", c: "20g", f: "2g",
        ing: "300g Plain Greek Yogurt, 100g Assorted Fruit.",
        inst: "Quick bolus to supply amino acids between meals." },
      { time: "19:30", name: "Dinner â€” No Starch Beef Skillet", p: "42g", c: "5g", f: "34g",
        ing: "170g Ground Beef, 150g Spinach, 30g Cheese.",
        inst: "Brown beef; add spinach; top with cheese." },
      { time: "21:30", name: "Sleep â€” Toning Whey Pudding", p: "35g", c: "10g", f: "4g",
        ing: "45g Whey, 150ml Almond Milk (pudding style).",
        inst: "Whisk whey into milk until thick pudding consistency." }
    ]
  },

  Fri: {
    status: "ðŸŸ¡ Restricted / Saturday Load @ 3 PM",
    totals: { p: "184g", c: "330g", f: "64g" },
    meals: [
      { time: "08:30", name: "Breakfast â€” Whey Oats", p: "45g", c: "65g", f: "12g",
        ing: "45g Whey, 50g dry Oats, 1 Banana, 300ml Almond Milk.",
        inst: "Blend or mix oats and whey as preferred." },
      { time: "12:30", name: "Pre Tr â€” Tuna Pasta PB Boost", p: "35g", c: "75g", f: "24g",
        ing: "100g dry Pasta, 30g Peanut Butter, 1 Can Tuna (140g).",
        inst: "Cook pasta; toss with tuna and a spoon of peanut butter for calories." },
      { time: "17:00", name: "Post Tr â€” Rebuild Smoothie", p: "42g", c: "45g", f: "6g",
        ing: "45g Whey, 300ml Almond Milk, 1 Banana, 50g Fruit.",
        inst: "Blend until smooth." },
      { time: "19:30", name: "Dinner â€” Carb Load Pasta & Tuna", p: "62g", c: "145g", f: "22g",
        ing: "150g dry Pasta, 1 Can Tuna, 30g Whey, 1 Potato.",
        inst: "Cook pasta and potato; mix in tuna and whey paste; serve hot." }
    ]
  },

  Sat: {
    status: "ðŸŸ¡ Peak Effort Training @ 9 AM",
    totals: { p: "198g", c: "170g", f: "94g" },
    meals: [
      { time: "07:30", name: "Pre Tr â€” Fast Fuel Shake", p: "40g", c: "30g", f: "5g",
        ing: "45g Whey, 250ml Almond Milk, 1 Banana (blended).",
        inst: "Blend and drink 45 to 60 minutes prior to session." },
      { time: "11:00", name: "Recovery Brunch", p: "38g", c: "50g", f: "35g",
        ing: "4 Eggs, 250g Potatoes, 50g Cheese, 100g Spinach.",
        inst: "Cook potatoes; make eggs to preference; add spinach and cheese." },
      { time: "14:30", name: "Lunch â€” Chicken and Yogurt", p: "65g", c: "25g", f: "6g",
        ing: "150g Chicken Breast, 250g Plain Greek Yogurt, 50g Fruit.",
        inst: "Serve grilled chicken with a large yogurt side and fruit." },
      { time: "18:30", name: "Dinner â€” Beef Pasta", p: "45g", c: "60g", f: "28g",
        ing: "170g Ground Beef, 80g dry Pasta, 100g Tomato Sauce.",
        inst: "Brown beef; add sauce and toss with pasta." },
      { time: "21:30", name: "Sleep â€” Mixed Nuts Snack", p: "10g", c: "5g", f: "20g",
        ing: "30g Mixed Nuts, 300ml Almond Milk.",
        inst: "Light snack to finish the day." }
    ]
  },

  Sun: {
    status: "ðŸŸ¢ Systemic Reset, No Training",
    totals: { p: "201g", c: "125g", f: "82g" },
    meals: [
      { time: "09:30", name: "Breakfast â€” Fruit and Eggs", p: "28g", c: "35g", f: "22g",
        ing: "4 Eggs, 1 Large Banana, 150g Assorted Fruit.",
        inst: "Cook eggs and enjoy with fruit on the side." },
      { time: "13:30", name: "Lunch â€” Tuna Spinach Salad", p: "65g", c: "15g", f: "24g",
        ing: "2 Cans Tuna (280g), 100g Spinach, 100g Cherry Tomatoes.",
        inst: "Toss ingredients with a splash of olive oil if desired." },
      { time: "16:30", name: "Snack â€” PB Banana", p: "8g", c: "35g", f: "16g",
        ing: "1 Banana, 30g Peanut Butter.",
        inst: "Slice banana and top with peanut butter." },
      { time: "19:30", name: "Dinner â€” Chicken Dinner", p: "65g", c: "30g", f: "8g",
        ing: "200g Chicken Breast, 150g Potato, 100g Spinach.",
        inst: "Roast chicken and potato; serve with spinach." },
      { time: "22:00", name: "Sleep â€” Whey Night Bolus", p: "35g", c: "10g", f: "12g",
        ing: "45g Whey, 150ml Almond Milk, 15g Pistachios.",
        inst: "Whisk whey into milk and sip before bed." }
    ]
  }
};

/* ---- Utilities & rendering (unchanged UI behavior) ---- */

function setDay(day, btnEl) {
  // set active button
  document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('active'));
  if (btnEl) btnEl.classList.add('active');

  renderDay(day);
}

function renderDay(day) {
  const data = plans[day];
  if (!data) {
    console.warn('No plan for', day);
    document.getElementById('sub-status').innerText = 'No data';
    document.getElementById('totalsDisplay').innerHTML = '';
    document.getElementById('mealContainer').innerHTML = '';
    return;
  }

  // status
  document.getElementById('sub-status').innerText = data.status;

  // totals
  const totalsHTML = `
    <div class="total-item"><span class="total-val">${data.totals.p}</span><span class="total-label">Protein</span></div>
    <div class="total-item"><span class="total-val">${data.totals.c}</span><span class="total-label">Carbs</span></div>
    <div class="total-item"><span class="total-val">${data.totals.f}</span><span class="total-label">Fats</span></div>
  `;
  document.getElementById('totalsDisplay').innerHTML = totalsHTML;

  // meals
  const container = document.getElementById('mealContainer');
  container.innerHTML = '';
  data.meals.forEach((m, idx) => {
    const card = document.createElement('div');
    card.className = 'meal-card';
    card.tabIndex = 0;

    // clicking or pressing Enter/Space toggles drawer
    card.addEventListener('click', () => {
      const d = card.querySelector('.recipe-drawer');
      d.classList.toggle('open');
    });
    card.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        const d = card.querySelector('.recipe-drawer');
        d.classList.toggle('open');
      }
    });

    card.innerHTML = `
      <div class="meal-header">
        <div>
          <div class="meal-time">${m.time}</div>
          <div class="meal-name">${m.name}</div>
        </div>
        <div class="meal-macros">P: ${m.p} &nbsp; C: ${m.c} &nbsp; F: ${m.f}</div>
      </div>
      <div class="recipe-drawer">
        <div class="ingredients"><strong>Ingredients:</strong><br>${m.ing}</div>
        <div class="instructions"><strong>Method:</strong> ${m.inst}</div>
      </div>
    `;
    container.appendChild(card);
  });
}

/* toggle plan vs shopping */
function toggleView(view) {
  const main = document.getElementById('main-view');
  const shop = document.getElementById('shopping-view');
  const planNav = document.getElementById('planNav');
  const shopNav = document.getElementById('shopNav');

  if (view === 'shop') {
    main.style.display = 'none';
    shop.classList.add('active');
    planNav.classList.remove('active');
    shopNav.classList.add('active');
  } else {
    main.style.display = 'block';
    shop.classList.remove('active');
    planNav.classList.add('active');
    shopNav.classList.remove('active');
  }
}

/* shopping persistence */
document.querySelectorAll('[data-shop]').forEach(cb => {
  const key = 'shop_' + cb.dataset.shop;
  cb.checked = localStorage.getItem(key) === 'true';
  cb.addEventListener('change', () => {
    localStorage.setItem(key, cb.checked);
  });
});

/* initialize: set default day and active button */
(function init() {
  const defaultDay = 'Thu';
  const btns = document.querySelectorAll('.day-btn');
  btns.forEach(b => b.classList.remove('active'));
  const btnForDay = Array.from(btns).find(b => b.textContent.trim().startsWith(defaultDay));
  if (btnForDay) btnForDay.classList.add('active');

  renderDay(defaultDay);
})();
</script>
</body>
</html>